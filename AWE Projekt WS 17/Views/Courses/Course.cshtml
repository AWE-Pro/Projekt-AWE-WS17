@model IEnumerable<AWE_Projekt_WS_17.Models.ContentGroup>
@{
    Disqus.Initialize("AWE-Projekt");
}
@{
    ViewBag.Title = "Course";
    SelectList list = ViewBag.Rating;
    int id = ViewBag.ID;
    string identifier = ViewBag.Identifier;
    string userid = ViewBag.User;
}


<h2>Course</h2>
<h3>@ViewBag.Course</h3><br />

@Html.DisplayName("Average Rating"):
@ViewBag.Average<br /><br />

@if (list.Count() > 0)
{
    using (Html.BeginForm("Rating", "Courses", FormMethod.Post))
    {
        @Html.Label("Rating")
        @Html.DropDownList("Rating", list, "Auswahl")
        @Html.Hidden("id", id)
        @Html.Hidden("userid", userid)

        <input type="submit" value="Rate" class="btn btn-default" />
    }
}

<div>
    <h4>Content</h4>
    <hr />
    <dl class="dl-horizontal">
        @foreach (var item in Model)
        {
            <dt>
                @Html.DisplayNameFor(model => model.Header)
            </dt>
            <dd>
                @Html.DisplayFor(model => item.Header) <br /><br />
            </dd>
            foreach (var element in item.ContentElements)
            {
                <dt>
                    @Html.DisplayNameFor(model => model.ContentElements.FirstOrDefault().Description)
                </dt>
                <dd>
                    @Html.DisplayFor(model => element.Description)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.ContentElements.FirstOrDefault().Url)
                </dt>
                <dd>
                    @switch (element.TypeID)
                    {
                        case 1:
                            <iframe type="text/html" width="640" height="385"
                                    src=@element.Url frameborder="0"></iframe><hr /><br />
                            break;
                        case 2:
                            <a href=@element.Url target="_blank">@element.Url</a><hr /><br />
                            break;
                        case 3:
                            <h3>@element.Url</h3><hr /><br />
                            break;
                    }
                </dd>
            }

        }

    </dl>

</div>
@Disqus.ShowComments(@identifier)
